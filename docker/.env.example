# Docker Compose Environment Variables
# Copy this file to .env and modify as needed
# cp .env.example .env

# Docker Build Configuration
# PIP index URL for Docker build (used during image building)
# Common mirror sources:
#   - Official: https://pypi.org/simple
#   - Aliyun (China): https://mirrors.aliyun.com/pypi/simple/
#   - Tsinghua (China): https://pypi.tuna.tsinghua.edu.cn/simple
PIP_INDEX_URL=https://pypi.org/simple

# Skip MinerU model download during Docker build (for Worker CPU image)
# Set to true to skip model download during build (saves build time and disk space)
# If skipped, models will be downloaded on first use at runtime from modelscope
# Note: MINERU_MODEL_SOURCE will be automatically set based on this parameter:
#   - false (default): Models downloaded during build → MINERU_MODEL_SOURCE=local
#   - true: Models skipped → MINERU_MODEL_SOURCE=modelscope (auto-configured)
# You don't need to manually set MINERU_MODEL_SOURCE, it's handled automatically
# Default: false (models will be downloaded during build)
SKIP_MODEL_DOWNLOAD=false

# Service Ports
# Redis port mapping (only used when using internal Redis service with redis profile)
# If port 6379 is already in use, change to another port (e.g., 6380)
# Note: This only affects the internal Redis service, not external Redis connections
REDIS_PORT=6379

# Redis Configuration
# Options:
#   1. Use internal Redis (with redis profile): redis://redis:6379/0
#   2. Use external Redis on host machine: redis://host.docker.internal:6379/0
#   3. Use external Redis with IP address: redis://192.168.1.100:6379/0
#   4. Use external Redis with password: redis://:password@host.docker.internal:6379/0
#   5. Use external Redis with authentication: redis://username:password@host.docker.internal:6379/0
# Note: This is used by docker-compose.yml to set REDIS_URL environment variable for containers
REDIS_URL=redis://redis:6379/0

# MinerU API port mapping
MINERU_API_PORT=8000

# MinerU Worker Selection (Compose Profiles)
# Set to mineru-cpu to enable CPU Worker, or mineru-gpu to enable GPU Worker
# Example: COMPOSE_PROFILES=mineru-cpu or COMPOSE_PROFILES=mineru-gpu
# You can also combine multiple profiles: COMPOSE_PROFILES=redis,mineru-cpu
# Available profiles:
#   - redis: Enable internal Redis service
#   - mineru-cpu: Enable CPU Worker
#   - mineru-gpu: Enable GPU Worker (requires NVIDIA GPU)
#   - mineru-cleanup: Enable cleanup service
COMPOSE_PROFILES=mineru-cpu

# Cleanup Service Configuration (optional, only used when mineru-cleanup service is enabled)
CLEANUP_INTERVAL_HOURS=24
CLEANUP_EXTRA_HOURS=2
